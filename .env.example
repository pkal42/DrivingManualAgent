# Azure AI Agent Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: Azure AI Foundry Project Settings
# =============================================================================

# Azure AI Foundry project endpoint
# Format: https://<your-project>.api.azureml.ms
# Find in: Azure AI Foundry portal -> Project -> Overview
AZURE_AI_PROJECT_ENDPOINT=https://your-project.api.azureml.ms

# =============================================================================
# REQUIRED: Azure AI Search Settings
# =============================================================================

# Azure AI Search service endpoint
# Format: https://<your-search-service>.search.windows.net
# Find in: Azure Portal -> AI Search -> Overview
AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net

# Search index name
# Default: driving-rules-hybrid
AZURE_SEARCH_INDEX_NAME=driving-rules-hybrid

# =============================================================================
# OPTIONAL: Model Configuration
# =============================================================================

# Model deployment name (must be deployed in your AI Foundry project)
# Default: gpt-4o
AGENT_MODEL_DEPLOYMENT=gpt-4o

# Model temperature (0.0-1.0, higher = more creative)
# Default: 0.7
AGENT_TEMPERATURE=0.7

# Model top_p (0.0-1.0, nucleus sampling)
# Default: 0.95
AGENT_TOP_P=0.95

# Maximum tokens in generated response
# Default: 4096
AGENT_MAX_TOKENS=4096

# =============================================================================
# OPTIONAL: Search Configuration
# =============================================================================

# Number of search results to retrieve
# Default: 5
# Higher values provide more context but increase cost
SEARCH_TOP_K=5

# =============================================================================
# OPTIONAL: Image Handling
# =============================================================================

# Image relevance threshold (0.0-1.0)
# Default: 0.75
# Higher values = fewer but more relevant images
# Lower values = more images but may include less relevant ones
IMAGE_RELEVANCE_THRESHOLD=0.75

# Azure Storage account name (for image retrieval)
# Required only if fetching images from blob storage
AZURE_STORAGE_ACCOUNT=your-storage-account

# Container name for extracted images
# Default: extracted-images
AZURE_STORAGE_CONTAINER_IMAGES=extracted-images

# =============================================================================
# OPTIONAL: Observability and Monitoring
# =============================================================================

# Enable OpenTelemetry tracing and metrics
# Default: true
# Set to false to disable telemetry
ENABLE_TELEMETRY=true

# Azure Application Insights connection string
# Required for telemetry export to Azure Monitor
# Find in: Azure Portal -> Application Insights -> Overview
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=...

# Service version for telemetry
APP_VERSION=1.0.0

# Deployment environment (development, staging, production)
ENVIRONMENT=development

# =============================================================================
# OPTIONAL: Authentication
# =============================================================================

# Use managed identity for authentication
# Default: true
# Set to false to use connection strings/API keys (development only)
USE_MANAGED_IDENTITY=true

# Development-only: Azure Search API key (not recommended for production)
# AZURE_SEARCH_API_KEY=your-search-api-key

# Development-only: Azure Storage connection string (not recommended for production)
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;...

# =============================================================================
# OPTIONAL: Indexing Pipeline Settings (for indexer scripts)
# =============================================================================

# Storage container for PDF files
AZURE_STORAGE_CONTAINER_PDFS=pdfs

# Indexer names (if different from defaults)
AZURE_SEARCH_INDEXER_NAME=driving-manual-indexer
AZURE_SEARCH_SKILLSET_NAME=driving-manual-skillset
AZURE_SEARCH_DATASOURCE_NAME=driving-manual-datasource

# Indexer monitoring
INDEXER_POLL_INTERVAL=10
INDEXER_TIMEOUT=1800

# =============================================================================
# Notes
# =============================================================================
#
# 1. Security Best Practices:
#    - Never commit .env file to source control
#    - Use managed identity in production (USE_MANAGED_IDENTITY=true)
#    - Rotate connection strings and keys regularly
#    - Use Azure Key Vault for secrets in production
#
# 2. Development vs Production:
#    - Development: Can use API keys and connection strings
#    - Production: Must use managed identities and RBAC
#
# 3. Required RBAC Roles (when using managed identity):
#    - Application -> AI Search: "Search Index Data Reader"
#    - Application -> Storage: "Storage Blob Data Reader"
#    - Application -> AI Foundry: "Azure AI Developer"
#
# 4. Configuration Validation:
#    Test your configuration with:
#      python -m agent.config_loader
#
# 5. Getting Started:
#    - Copy this file to .env
#    - Fill in required values (marked REQUIRED above)
#    - Optional values have sensible defaults
#    - Run: python -m agent.app "What does a stop sign mean?"
#
